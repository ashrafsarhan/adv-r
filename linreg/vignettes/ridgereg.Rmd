---
title: "Vignette for ridgereg"
author: "Yumeng Li, Mattias Karlsson, Ashraf Sarhan"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

## Vignette Goal
The vignette shows how to do a simple prediction problem by using 
ridgereg() function.

## Function Discription
Ridgereg(formula, data, lambda) function has three arguments.

Ridge regression can be a good alternative when we have a lot of covariates (when p > n) or in the situation of multicollinearity.

```


```


## set up class
```
ridgereg_class <- setRefClass(
  "ridgereg_class",
  fields = list(
    fitted_values = "numeric",
    beta_estimate = "numeric"),
 
  methods = list(
    pred = function() {
      return(fitted_values)
    },
    coef = function() {
      return(beta_estimate) 
    })
)
```

## Unit Tests

To compare the results, we compare with lm.ridge() in the MASS package that is parametrized in the same way. But it uses SVD decomposition so there can be small differences in the results. We use floor() function to minimize the difference.

```
# extract result from lm.ridge()
fit1 <- lm.ridge(formula = Petal.Length ~ Species, data = iris, lambda = 3)

# extract result from lingre
test1 <- ridgereg(formula = Petal.Length ~ Species, data = iris, lambda = 3)

# unit test for each value
test_that("linreg methods", {
  expect_equivalent(floor(test1$beta_estimate[1]), floor(coef(fit1))[1])
  expect_equivalent(floor(test1$beta_estimate[2]), floor(coef(fit1))[2])
  expect_equivalent(floor(test1$beta_estimate[3]), floor(coef(fit1))[3])
 
})
```

## Examples

```
ridgereg(formula = Petal.Length ~ Species, data = iris, lambda = 3)
```


